{% extends "apostrophe-modal:base.html" %}
{% import "apostrophe-modal:batch.html" as batch %}
{% import 'apostrophe-ui:components/buttons.html' as buttons %}

{% block modalClass %}genex-reorganize-modal{% if not data.trashInSchema %}{{ ' genex-separate-trash' }}{% endif %}{% endblock %}

{% block controls %}
  <div class="genex-modal-controls">
    {{ buttons.minor('Finished', { action: 'save' }) }}
    {{ buttons.major('New Page', { action: 'insert-page' }) }}
  </div>
{% endblock %}

{% block label %}
{{ __('Reorganize Pages') }}
{% endblock %}

{% block instructions %}
  <p>
    {{ __('Drag and drop pages wherever they need to go.') }}
  </p>
{% endblock %}

{% block body %}
  <div class="genex-reorganize-tree-header">
    <input class="genex-reorganize-select-all" type="checkbox" name="select-all" value="1" />
    <span class="genex-reorganize-title">Page Title</span>
    <span class="genex-reorganize-controls">Published</span>
    <span class="genex-reorganize-controls">Edit</span>
    <span class="genex-reorganize-controls">Link</span>
    <span class="genex-reorganize-controls">Trash</span>
  </div>
  {# This gets fired up by jstree #}
  <div class="genex-table genex-reorganize-tree" data-tree>
  </div>
{% endblock %}

{% block footer %}
  <div class="genex-modal-footer-inner">
    {%- block batch -%}
      {{ batch.operations(data.batchOperations) }}
    {%- endblock -%}
  </div>
{%- endblock -%}
